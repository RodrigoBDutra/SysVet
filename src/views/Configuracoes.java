package views;

import dao.Banco;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.swing.JOptionPane;

public class Configuracoes extends javax.swing.JFrame {

    /**
     * Creates new form Configuracoes
     */
    Banco ba = new Banco();
    String sen;
    int flag = 0;

    public Configuracoes() {
        initComponents();
    }

    public boolean valida() {

        if ("".equals(txt_nome2.getText())) {
            JOptionPane.showMessageDialog(rootPane, "Preenche o campo nome");
            return false;
        }
        if ("".equals(txt_login2.getText())) {
            JOptionPane.showMessageDialog(rootPane, "Preenche o campo login");
            return false;
        }
        if ("".equals(txt_senha2.getText()) && flag == 1) {
            JOptionPane.showMessageDialog(rootPane, "Preenche o campo senha");
            return false;
        }
        return true;

    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jLabel1 = new javax.swing.JLabel();
        jTabbedPane1 = new javax.swing.JTabbedPane();
        jPanel6 = new javax.swing.JPanel();
        jLabel6 = new javax.swing.JLabel();
        btnBackup = new javax.swing.JButton();
        jTextField16 = new javax.swing.JTextField();
        jLabel18 = new javax.swing.JLabel();
        jPanel9 = new javax.swing.JPanel();
        txt_BuscaLogin2 = new javax.swing.JTextField();
        btnAlterar = new javax.swing.JButton();
        jLabel50 = new javax.swing.JLabel();
        txt_login2 = new javax.swing.JTextField();
        txt_nome2 = new javax.swing.JTextField();
        txt_senha2 = new javax.swing.JPasswordField();
        txt_senhaAtual2 = new javax.swing.JPasswordField();
        manterSenha3 = new javax.swing.JCheckBox();
        jLabel51 = new javax.swing.JLabel();
        btnBuscar = new javax.swing.JButton();
        btnInserir = new javax.swing.JButton();
        txt_cod2 = new javax.swing.JLabel();
        btnExcluir = new javax.swing.JButton();
        jLabel52 = new javax.swing.JLabel();
        jSeparator10 = new javax.swing.JSeparator();
        jLabel53 = new javax.swing.JLabel();
        jLabel54 = new javax.swing.JLabel();
        jLabel55 = new javax.swing.JLabel();
        txt_NovaSenha2 = new javax.swing.JPasswordField();
        jLabel56 = new javax.swing.JLabel();
        jPanel8 = new javax.swing.JPanel();
        checkPerAgenda = new javax.swing.JCheckBox();
        checkPerProprietario = new javax.swing.JCheckBox();
        checkPerAnimal = new javax.swing.JCheckBox();
        checkPerServico = new javax.swing.JCheckBox();
        checkPerEstoque = new javax.swing.JCheckBox();
        checkPerVenda = new javax.swing.JCheckBox();
        checkPerFinanceiro = new javax.swing.JCheckBox();
        checkPerProdutos = new javax.swing.JCheckBox();
        jSeparator11 = new javax.swing.JSeparator();
        checkPerHistoricos = new javax.swing.JCheckBox();
        checkPerAltera = new javax.swing.JCheckBox();
        checkPerExclui = new javax.swing.JCheckBox();
        jButton8 = new javax.swing.JButton();
        jButton12 = new javax.swing.JButton();
        jButton14 = new javax.swing.JButton();
        jButton15 = new javax.swing.JButton();
        jButton20 = new javax.swing.JButton();
        jButton21 = new javax.swing.JButton();
        jButton22 = new javax.swing.JButton();
        jButton23 = new javax.swing.JButton();
        jButton24 = new javax.swing.JButton();
        jButton25 = new javax.swing.JButton();
        jButton26 = new javax.swing.JButton();
        jButton27 = new javax.swing.JButton();
        jButton17 = new javax.swing.JButton();
        jButton18 = new javax.swing.JButton();
        jLabel2 = new javax.swing.JLabel();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        addWindowListener(new java.awt.event.WindowAdapter() {
            public void windowOpened(java.awt.event.WindowEvent evt) {
                formWindowOpened(evt);
            }
        });
        getContentPane().setLayout(null);

        jLabel1.setIcon(new javax.swing.ImageIcon(getClass().getResource("/views/suporte_sair.png"))); // NOI18N
        getContentPane().add(jLabel1);
        jLabel1.setBounds(10, 560, 0, 0);

        jPanel6.setBackground(new java.awt.Color(204, 204, 204));
        jPanel6.setBorder(new javax.swing.border.MatteBorder(null));
        jPanel6.setLayout(null);

        jLabel6.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jLabel6.setText("Configurações");
        jPanel6.add(jLabel6);
        jLabel6.setBounds(261, 1, 87, 15);

        btnBackup.setIcon(new javax.swing.ImageIcon(getClass().getResource("/imagens/backup.png"))); // NOI18N
        btnBackup.setText("Realizar Backup");
        btnBackup.setToolTipText("");
        btnBackup.setPreferredSize(new java.awt.Dimension(100, 35));
        btnBackup.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnBackupActionPerformed(evt);
            }
        });
        jPanel6.add(btnBackup);
        btnBackup.setBounds(484, 456, 140, 35);

        jTextField16.setText("C:\\Users\\Rafael\\Documentos/SysVet");
        jPanel6.add(jTextField16);
        jTextField16.setBounds(168, 463, 301, 20);

        jLabel18.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel18.setText("Diretório Backup:");
        jPanel6.add(jLabel18);
        jLabel18.setBounds(53, 466, 97, 14);

        jPanel9.setBackground(new java.awt.Color(204, 204, 204));
        jPanel9.setBorder(javax.swing.BorderFactory.createTitledBorder("Configurações"));
        jPanel9.setLayout(null);

        txt_BuscaLogin2.setBorder(javax.swing.BorderFactory.createEtchedBorder());
        jPanel9.add(txt_BuscaLogin2);
        txt_BuscaLogin2.setBounds(30, 50, 180, 20);

        btnAlterar.setIcon(new javax.swing.ImageIcon(getClass().getResource("/imagens/apply.png"))); // NOI18N
        btnAlterar.setText("Salvar");
        btnAlterar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnAlterar1ActionPerformed(evt);
            }
        });
        jPanel9.add(btnAlterar);
        btnAlterar.setBounds(480, 340, 100, 30);

        jLabel50.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jLabel50.setText("Login");
        jPanel9.add(jLabel50);
        jLabel50.setBounds(30, 30, 90, 20);

        txt_login2.setBorder(javax.swing.BorderFactory.createEtchedBorder());
        txt_login2.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                txt_loginMouseClicked(evt);
            }
            public void mouseReleased(java.awt.event.MouseEvent evt) {
                txt_loginMouseReleased(evt);
            }
        });
        txt_login2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txt_loginActionPerformed(evt);
            }
        });
        jPanel9.add(txt_login2);
        txt_login2.setBounds(20, 210, 210, 20);

        txt_nome2.setBorder(javax.swing.BorderFactory.createEtchedBorder());
        jPanel9.add(txt_nome2);
        txt_nome2.setBounds(70, 170, 380, 20);

        txt_senha2.setBorder(javax.swing.BorderFactory.createEtchedBorder());
        txt_senha2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txt_senhaActionPerformed(evt);
            }
        });
        jPanel9.add(txt_senha2);
        txt_senha2.setBounds(20, 260, 140, 20);

        txt_senhaAtual2.setBorder(javax.swing.BorderFactory.createEtchedBorder());
        txt_senhaAtual2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txt_senhaAtualActionPerformed(evt);
            }
        });
        jPanel9.add(txt_senhaAtual2);
        txt_senhaAtual2.setBounds(420, 60, 180, 20);

        manterSenha3.setBackground(new java.awt.Color(204, 204, 204));
        manterSenha3.setSelected(true);
        manterSenha3.setText("Manter senha atual");
        manterSenha3.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                manterSenha1ActionPerformed(evt);
            }
        });
        jPanel9.add(manterSenha3);
        manterSenha3.setBounds(420, 20, 170, 20);

        jLabel51.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jLabel51.setText("Nome");
        jPanel9.add(jLabel51);
        jLabel51.setBounds(70, 150, 100, 20);

        btnBuscar.setIcon(new javax.swing.ImageIcon(getClass().getResource("/imagens/icone_pesquisar.png"))); // NOI18N
        btnBuscar.setText("Consultar");
        btnBuscar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnBuscar1ActionPerformed(evt);
            }
        });
        jPanel9.add(btnBuscar);
        btnBuscar.setBounds(250, 40, 110, 30);

        btnInserir.setIcon(new javax.swing.ImageIcon(getClass().getResource("/imagens/add.png"))); // NOI18N
        btnInserir.setText("Inserir");
        btnInserir.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnInserir1ActionPerformed(evt);
            }
        });
        jPanel9.add(btnInserir);
        btnInserir.setBounds(480, 300, 100, 30);

        txt_cod2.setBackground(new java.awt.Color(255, 255, 255));
        txt_cod2.setBorder(javax.swing.BorderFactory.createEtchedBorder());
        jPanel9.add(txt_cod2);
        txt_cod2.setBounds(20, 170, 40, 20);

        btnExcluir.setIcon(new javax.swing.ImageIcon(getClass().getResource("/imagens/remove.png"))); // NOI18N
        btnExcluir.setText("Excluir");
        btnExcluir.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnExcluir1ActionPerformed(evt);
            }
        });
        jPanel9.add(btnExcluir);
        btnExcluir.setBounds(480, 380, 100, 30);

        jLabel52.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jLabel52.setText("Login");
        jPanel9.add(jLabel52);
        jLabel52.setBounds(20, 190, 90, 20);
        jPanel9.add(jSeparator10);
        jSeparator10.setBounds(20, 140, 590, 10);

        jLabel53.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jLabel53.setText("Senha Atual");
        jPanel9.add(jLabel53);
        jLabel53.setBounds(420, 40, 140, 20);

        jLabel54.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jLabel54.setText("Código");
        jPanel9.add(jLabel54);
        jLabel54.setBounds(20, 150, 50, 20);

        jLabel55.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jLabel55.setText("Senha");
        jPanel9.add(jLabel55);
        jLabel55.setBounds(20, 240, 90, 20);

        txt_NovaSenha2.setBorder(javax.swing.BorderFactory.createEtchedBorder());
        txt_NovaSenha2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txt_NovaSenhaActionPerformed(evt);
            }
        });
        jPanel9.add(txt_NovaSenha2);
        txt_NovaSenha2.setBounds(420, 100, 180, 20);

        jLabel56.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jLabel56.setText("Nova Senha");
        jPanel9.add(jLabel56);
        jLabel56.setBounds(420, 80, 140, 20);

        jPanel8.setBackground(new java.awt.Color(204, 204, 204));
        jPanel8.setBorder(javax.swing.BorderFactory.createTitledBorder("Permissões"));

        checkPerAgenda.setBackground(new java.awt.Color(204, 204, 204));
        checkPerAgenda.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        checkPerAgenda.setText("Agenda");
        checkPerAgenda.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jCheckBox1ActionPerformed(evt);
            }
        });

        checkPerProprietario.setBackground(new java.awt.Color(204, 204, 204));
        checkPerProprietario.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        checkPerProprietario.setText("Proprietário");
        checkPerProprietario.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jCheckBox3ActionPerformed(evt);
            }
        });

        checkPerAnimal.setBackground(new java.awt.Color(204, 204, 204));
        checkPerAnimal.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        checkPerAnimal.setText("Animal");
        checkPerAnimal.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jCheckBox8ActionPerformed(evt);
            }
        });

        checkPerServico.setBackground(new java.awt.Color(204, 204, 204));
        checkPerServico.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        checkPerServico.setText("Serviço");
        checkPerServico.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jCheckBox9ActionPerformed(evt);
            }
        });

        checkPerEstoque.setBackground(new java.awt.Color(204, 204, 204));
        checkPerEstoque.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        checkPerEstoque.setText("Estoque");
        checkPerEstoque.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jCheckBox10ActionPerformed(evt);
            }
        });

        checkPerVenda.setBackground(new java.awt.Color(204, 204, 204));
        checkPerVenda.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        checkPerVenda.setText("Vendas");
        checkPerVenda.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jCheckBox11ActionPerformed(evt);
            }
        });

        checkPerFinanceiro.setBackground(new java.awt.Color(204, 204, 204));
        checkPerFinanceiro.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        checkPerFinanceiro.setText("Financeiro");
        checkPerFinanceiro.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jCheckBox12ActionPerformed(evt);
            }
        });

        checkPerProdutos.setBackground(new java.awt.Color(204, 204, 204));
        checkPerProdutos.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        checkPerProdutos.setText("Produtos");
        checkPerProdutos.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jCheckBox13ActionPerformed(evt);
            }
        });

        jSeparator11.setOrientation(javax.swing.SwingConstants.VERTICAL);

        checkPerHistoricos.setBackground(new java.awt.Color(204, 204, 204));
        checkPerHistoricos.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        checkPerHistoricos.setText("Visualizar Históricos");
        checkPerHistoricos.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jCheckBox14ActionPerformed(evt);
            }
        });

        checkPerAltera.setBackground(new java.awt.Color(204, 204, 204));
        checkPerAltera.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        checkPerAltera.setText("Alterar Dados");
        checkPerAltera.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jCheckBox15ActionPerformed(evt);
            }
        });

        checkPerExclui.setBackground(new java.awt.Color(204, 204, 204));
        checkPerExclui.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        checkPerExclui.setText("Excluir Dados");
        checkPerExclui.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jCheckBox16ActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel8Layout = new javax.swing.GroupLayout(jPanel8);
        jPanel8.setLayout(jPanel8Layout);
        jPanel8Layout.setHorizontalGroup(
            jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel8Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(checkPerProprietario, javax.swing.GroupLayout.PREFERRED_SIZE, 125, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(checkPerAnimal, javax.swing.GroupLayout.PREFERRED_SIZE, 125, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(checkPerAgenda)
                    .addComponent(checkPerServico))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel8Layout.createSequentialGroup()
                        .addGroup(jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(checkPerEstoque)
                            .addComponent(checkPerProdutos)
                            .addComponent(checkPerVenda))
                        .addGap(22, 22, 22))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel8Layout.createSequentialGroup()
                        .addComponent(checkPerFinanceiro)
                        .addGap(18, 18, 18)))
                .addComponent(jSeparator11, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addGroup(jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(checkPerHistoricos)
                    .addComponent(checkPerAltera)
                    .addComponent(checkPerExclui))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        jPanel8Layout.setVerticalGroup(
            jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel8Layout.createSequentialGroup()
                .addGroup(jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jSeparator11)
                    .addGroup(jPanel8Layout.createSequentialGroup()
                        .addGroup(jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addGroup(jPanel8Layout.createSequentialGroup()
                                .addComponent(checkPerEstoque)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                .addComponent(checkPerVenda)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                .addComponent(checkPerFinanceiro)
                                .addGap(4, 4, 4)
                                .addComponent(checkPerProdutos))
                            .addGroup(jPanel8Layout.createSequentialGroup()
                                .addComponent(checkPerProprietario, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                .addComponent(checkPerAnimal)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                .addComponent(checkPerAgenda)
                                .addGap(4, 4, 4)
                                .addComponent(checkPerServico))
                            .addGroup(jPanel8Layout.createSequentialGroup()
                                .addComponent(checkPerHistoricos)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                .addComponent(checkPerAltera)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                .addComponent(checkPerExclui)))
                        .addGap(0, 0, Short.MAX_VALUE)))
                .addContainerGap())
        );

        jPanel9.add(jPanel8);
        jPanel8.setBounds(20, 290, 395, 136);

        jPanel6.add(jPanel9);
        jPanel9.setBounds(10, 20, 610, 430);

        jTabbedPane1.addTab("Vendas", jPanel6);

        getContentPane().add(jTabbedPane1);
        jTabbedPane1.setBounds(10, 20, 640, 530);

        jButton8.setIcon(new javax.swing.ImageIcon(getClass().getResource("/imagens/icone_proprietario1.png"))); // NOI18N
        jButton8.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton8ActionPerformed(evt);
            }
        });
        getContentPane().add(jButton8);
        jButton8.setBounds(770, 40, 70, 80);

        jButton12.setIcon(new javax.swing.ImageIcon(getClass().getResource("/imagens/icone_inicio1.png"))); // NOI18N
        jButton12.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton12ActionPerformed(evt);
            }
        });
        getContentPane().add(jButton12);
        jButton12.setBounds(700, 40, 70, 80);

        jButton14.setIcon(new javax.swing.ImageIcon(getClass().getResource("/imagens/icone_animal1.png"))); // NOI18N
        getContentPane().add(jButton14);
        jButton14.setBounds(840, 40, 70, 80);

        jButton15.setIcon(new javax.swing.ImageIcon(getClass().getResource("/imagens/icone_estoque1.png"))); // NOI18N
        getContentPane().add(jButton15);
        jButton15.setBounds(840, 120, 70, 80);

        jButton20.setIcon(new javax.swing.ImageIcon(getClass().getResource("/imagens/icone_serviço1.png"))); // NOI18N
        getContentPane().add(jButton20);
        jButton20.setBounds(770, 120, 70, 80);

        jButton21.setIcon(new javax.swing.ImageIcon(getClass().getResource("/imagens/icones_agenda1.png"))); // NOI18N
        getContentPane().add(jButton21);
        jButton21.setBounds(700, 120, 70, 80);

        jButton22.setIcon(new javax.swing.ImageIcon(getClass().getResource("/imagens/icones_vendas1.png"))); // NOI18N
        getContentPane().add(jButton22);
        jButton22.setBounds(700, 200, 70, 80);

        jButton23.setIcon(new javax.swing.ImageIcon(getClass().getResource("/imagens/icone_financeiro1.png"))); // NOI18N
        getContentPane().add(jButton23);
        jButton23.setBounds(770, 200, 70, 80);

        jButton24.setIcon(new javax.swing.ImageIcon(getClass().getResource("/imagens/icones_produtos1.png"))); // NOI18N
        getContentPane().add(jButton24);
        jButton24.setBounds(840, 200, 70, 80);

        jButton25.setIcon(new javax.swing.ImageIcon(getClass().getResource("/imagens/icone_sair1.png"))); // NOI18N
        getContentPane().add(jButton25);
        jButton25.setBounds(840, 280, 70, 80);

        jButton26.setIcon(new javax.swing.ImageIcon(getClass().getResource("/imagens/icones_configurações1.png"))); // NOI18N
        getContentPane().add(jButton26);
        jButton26.setBounds(770, 280, 70, 80);

        jButton27.setIcon(new javax.swing.ImageIcon(getClass().getResource("/imagens/icone_ajuda1.png"))); // NOI18N
        getContentPane().add(jButton27);
        jButton27.setBounds(700, 280, 70, 80);

        jButton17.setIcon(new javax.swing.ImageIcon(getClass().getResource("/imagens/suporte.png"))); // NOI18N
        jButton17.setBorder(javax.swing.BorderFactory.createEmptyBorder(1, 1, 1, 1));
        jButton17.setContentAreaFilled(false);
        getContentPane().add(jButton17);
        jButton17.setBounds(10, 550, 100, 50);

        jButton18.setIcon(new javax.swing.ImageIcon(getClass().getResource("/imagens/sair.png"))); // NOI18N
        jButton18.setContentAreaFilled(false);
        getContentPane().add(jButton18);
        jButton18.setBounds(110, 550, 100, 50);

        jLabel2.setIcon(new javax.swing.ImageIcon(getClass().getResource("/imagens/fundo telas.jpg"))); // NOI18N
        getContentPane().add(jLabel2);
        jLabel2.setBounds(0, 0, 970, 610);

        setSize(new java.awt.Dimension(959, 637));
        setLocationRelativeTo(null);
    }// </editor-fold>//GEN-END:initComponents

    private void btnBackupActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnBackupActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_btnBackupActionPerformed

    private void jButton12ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton12ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jButton12ActionPerformed

    private void jButton8ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton8ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jButton8ActionPerformed

    private void jCheckBox16ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jCheckBox16ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jCheckBox16ActionPerformed

    private void jCheckBox15ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jCheckBox15ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jCheckBox15ActionPerformed

    private void jCheckBox14ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jCheckBox14ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jCheckBox14ActionPerformed

    private void jCheckBox13ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jCheckBox13ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jCheckBox13ActionPerformed

    private void jCheckBox12ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jCheckBox12ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jCheckBox12ActionPerformed

    private void jCheckBox11ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jCheckBox11ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jCheckBox11ActionPerformed

    private void jCheckBox10ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jCheckBox10ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jCheckBox10ActionPerformed

    private void jCheckBox9ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jCheckBox9ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jCheckBox9ActionPerformed

    private void jCheckBox8ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jCheckBox8ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jCheckBox8ActionPerformed

    private void jCheckBox3ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jCheckBox3ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jCheckBox3ActionPerformed

    private void jCheckBox1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jCheckBox1ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jCheckBox1ActionPerformed

    private void txt_NovaSenhaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txt_NovaSenhaActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txt_NovaSenhaActionPerformed

    private void btnExcluir1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnExcluir1ActionPerformed
        flag = 0;
        int codigo = Integer.parseInt(txt_cod2.getText());
        if (valida()) {

            if (Integer.parseInt(ba.abreUsuarios()) + 1 != codigo) {

                if (ba.excluiUsuario(codigo)) {
                    JOptionPane.showMessageDialog(rootPane, "Excluido com sucesso");
                    txt_nome2.setText("");
                    txt_login2.setText("");
                } else {
                    JOptionPane.showMessageDialog(rootPane, "Não encontrado");
                }

            } else {
                JOptionPane.showMessageDialog(rootPane, "Codigo do usuario incorreto. Para excluir busque o usuário primeiro");
            }

        }
    }//GEN-LAST:event_btnExcluir1ActionPerformed

    private void btnInserir1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnInserir1ActionPerformed
        flag = 1;
        int codigo;
        String nome, login, senha, permissao = "";
        codigo = Integer.parseInt(ba.abreUsuarios()) + 1;
        nome = txt_nome2.getText();
        login = txt_login2.getText();
        senha = txt_senha2.getText();
        if (checkPerProprietario.isSelected()) {
            permissao += "1";
        } else {
            permissao += "0";
        }

        if (checkPerAnimal.isSelected()) {
            permissao += "1";
        } else {
            permissao += "0";
        }
        if (checkPerAgenda.isSelected()) {
            permissao += "1";
        } else {
            permissao += "0";
        }
        if (checkPerServico.isSelected()) {
            permissao += "1";
        } else {
            permissao += "0";
        }
        if (checkPerEstoque.isSelected()) {
            permissao += "1";
        } else {
            permissao += "0";
        }
        if (checkPerVenda.isSelected()) {
            permissao += "1";
        } else {
            permissao += "0";
        }
        if (checkPerFinanceiro.isSelected()) {
            permissao += "1";
        } else {
            permissao += "0";
        }
        if (checkPerProdutos.isSelected()) {
            permissao += "1";
        } else {
            permissao += "0";
        }
        if (checkPerHistoricos.isSelected()) {
            permissao += "1";
        } else {
            permissao += "0";
        }
        if (checkPerAltera.isSelected()) {
            permissao += "1";
        } else {
            permissao += "0";
        }
        if (checkPerExclui.isSelected()) {
            permissao += "1";
        } else {
            permissao += "0";
        }

        if (valida()) {

            if (ba.gravaUsuario(codigo, nome, login, senha, permissao)) {

                txt_nome2.setText("");
                txt_senha2.setText("");
                txt_login2.setText("");

                checkPerProprietario.setSelected(false);
                checkPerAnimal.setSelected(false);
                checkPerAgenda.setSelected(false);
                checkPerServico.setSelected(false);
                checkPerEstoque.setSelected(false);
                checkPerVenda.setSelected(false);
                checkPerFinanceiro.setSelected(false);
                checkPerProdutos.setSelected(false);
                checkPerHistoricos.setSelected(false);
                checkPerAltera.setSelected(false);
                checkPerExclui.setSelected(false);
                int cod = Integer.parseInt(ba.abreUsuarios()) + 1;
                txt_cod2.setText(cod + "");
            }
        }
    }//GEN-LAST:event_btnInserir1ActionPerformed

    private void btnBuscar1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnBuscar1ActionPerformed
        ResultSet rs;
        String login = txt_BuscaLogin2.getText();
        String permissao;

        rs = ba.buscaUsuario(login);
        try {
            if (ba.buscaUsuario(login) != null) {
                txt_nome2.setText(rs.getString("nome"));
                txt_cod2.setText(rs.getString("codigo"));
                sen = rs.getString("senha");
                permissao = rs.getString("permissao");

                if (checkPerProprietario.isSelected()) {
                    permissao += "1";
                } else {
                    permissao += "0";
                }

                if (checkPerAnimal.isSelected()) {
                    permissao += "1";
                } else {
                    permissao += "0";
                }
                if (checkPerAgenda.isSelected()) {
                    permissao += "1";
                } else {
                    permissao += "0";
                }
                if (checkPerServico.isSelected()) {
                    permissao += "1";
                } else {
                    permissao += "0";
                }
                if (checkPerEstoque.isSelected()) {
                    permissao += "1";
                } else {
                    permissao += "0";
                }
                if (checkPerVenda.isSelected()) {
                    permissao += "1";
                } else {
                    permissao += "0";
                }
                if (checkPerFinanceiro.isSelected()) {
                    permissao += "1";
                } else {
                    permissao += "0";
                }
                if (checkPerProdutos.isSelected()) {
                    permissao += "1";
                } else {
                    permissao += "0";
                }
                if (checkPerHistoricos.isSelected()) {
                    permissao += "1";
                } else {
                    permissao += "0";
                }
                if (checkPerAltera.isSelected()) {
                    permissao += "1";
                } else {
                    permissao += "0";
                }
                if (checkPerExclui.isSelected()) {
                    permissao += "1";
                } else {
                    permissao += "0";
                }

                txt_login2.setText(txt_BuscaLogin2.getText());

            } else {
                JOptionPane.showMessageDialog(rootPane, "não encontrado");
                txt_nome2.setText("");
                txt_login2.setText("");
            }
        } catch (SQLException ex) {
        }
    }//GEN-LAST:event_btnBuscar1ActionPerformed

    private void manterSenha1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_manterSenha1ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_manterSenha1ActionPerformed

    private void txt_senhaAtualActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txt_senhaAtualActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txt_senhaAtualActionPerformed

    private void txt_senhaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txt_senhaActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txt_senhaActionPerformed

    private void txt_loginActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txt_loginActionPerformed

    }//GEN-LAST:event_txt_loginActionPerformed

    private void txt_loginMouseReleased(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_txt_loginMouseReleased

    }//GEN-LAST:event_txt_loginMouseReleased

    private void txt_loginMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_txt_loginMouseClicked
        int cod = Integer.parseInt(ba.abreUsuarios()) + 1;
        txt_cod2.setText(cod + "");
    }//GEN-LAST:event_txt_loginMouseClicked

    private void btnAlterar1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnAlterar1ActionPerformed
        flag = 0;
        int codigo;

        String nome, login, senhaNova, senhaAtual, permissao = "", senha;
        codigo = Integer.parseInt(txt_login2.getText());
        nome = txt_nome2.getText();
        login = txt_login2.getText();
        senhaNova = txt_NovaSenha2.getText();

        if (manterSenha3.isSelected()) {
            senha = sen;
        } else {

            senha = senhaNova;
        }
        senhaAtual = txt_senhaAtual2.getText();

        if (checkPerProprietario.isSelected()) {
            permissao += "1";
        } else {
            permissao += "0";
        }

        if (checkPerAnimal.isSelected()) {
            permissao += "1";
        } else {
            permissao += "0";
        }
        if (checkPerAgenda.isSelected()) {
            permissao += "1";
        } else {
            permissao += "0";
        }
        if (checkPerServico.isSelected()) {
            permissao += "1";
        } else {
            permissao += "0";
        }
        if (checkPerEstoque.isSelected()) {
            permissao += "1";
        } else {
            permissao += "0";
        }
        if (checkPerVenda.isSelected()) {
            permissao += "1";
        } else {
            permissao += "0";
        }
        if (checkPerFinanceiro.isSelected()) {
            permissao += "1";
        } else {
            permissao += "0";
        }
        if (checkPerProdutos.isSelected()) {
            permissao += "1";
        } else {
            permissao += "0";
        }
        if (checkPerHistoricos.isSelected()) {
            permissao += "1";
        } else {
            permissao += "0";
        }
        if (checkPerAltera.isSelected()) {
            permissao += "1";
        } else {
            permissao += "0";
        }
        if (checkPerExclui.isSelected()) {
            permissao += "1";
        } else {
            permissao += "0";
        }
        if (valida()) {

            if (Integer.parseInt(ba.abreUsuarios()) + 1 != codigo) {

                if (ba.verificaSenha(codigo, senhaAtual) || manterSenha3.isSelected()) {
                    ba.atualizaUsuario(codigo, nome, login, senha, permissao);
                    txt_nome2.setText("");
                    txt_senha2.setText("");
                    txt_login2.setText("");
                    

                    checkPerProprietario.setSelected(false);
                    checkPerAnimal.setSelected(false);
                    checkPerAgenda.setSelected(false);
                    checkPerServico.setSelected(false);
                    checkPerEstoque.setSelected(false);
                    checkPerVenda.setSelected(false);
                    checkPerFinanceiro.setSelected(false);
                    checkPerProdutos.setSelected(false);
                    checkPerHistoricos.setSelected(false);
                    checkPerAltera.setSelected(false);
                    checkPerExclui.setSelected(false);
                } else {
                    JOptionPane.showMessageDialog(rootPane, "senha Atual incorreta para o login " + login);
                }
            } else {
                JOptionPane.showMessageDialog(rootPane, "O código do usuario não existe,"
                        + " para alterar um usuario faça uma busca.");
            }
        }
    }//GEN-LAST:event_btnAlterar1ActionPerformed

    private void formWindowOpened(java.awt.event.WindowEvent evt) {//GEN-FIRST:event_formWindowOpened
        // TODO add your handling code here:
        int cod = Integer.parseInt(ba.abreUsuarios()) + 1;
        txt_cod2.setText(cod + "");
    }//GEN-LAST:event_formWindowOpened

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(Configuracoes.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(Configuracoes.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(Configuracoes.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(Configuracoes.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new Configuracoes().setVisible(true);
            }
        });
    }
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton btnAlterar;
    private javax.swing.JButton btnBackup;
    private javax.swing.JButton btnBuscar;
    private javax.swing.JButton btnExcluir;
    private javax.swing.JButton btnInserir;
    private javax.swing.JCheckBox checkPerAgenda;
    private javax.swing.JCheckBox checkPerAltera;
    private javax.swing.JCheckBox checkPerAnimal;
    private javax.swing.JCheckBox checkPerEstoque;
    private javax.swing.JCheckBox checkPerExclui;
    private javax.swing.JCheckBox checkPerFinanceiro;
    private javax.swing.JCheckBox checkPerHistoricos;
    private javax.swing.JCheckBox checkPerProdutos;
    private javax.swing.JCheckBox checkPerProprietario;
    private javax.swing.JCheckBox checkPerServico;
    private javax.swing.JCheckBox checkPerVenda;
    private javax.swing.JButton jButton12;
    private javax.swing.JButton jButton14;
    private javax.swing.JButton jButton15;
    private javax.swing.JButton jButton17;
    private javax.swing.JButton jButton18;
    private javax.swing.JButton jButton20;
    private javax.swing.JButton jButton21;
    private javax.swing.JButton jButton22;
    private javax.swing.JButton jButton23;
    private javax.swing.JButton jButton24;
    private javax.swing.JButton jButton25;
    private javax.swing.JButton jButton26;
    private javax.swing.JButton jButton27;
    private javax.swing.JButton jButton8;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel18;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel50;
    private javax.swing.JLabel jLabel51;
    private javax.swing.JLabel jLabel52;
    private javax.swing.JLabel jLabel53;
    private javax.swing.JLabel jLabel54;
    private javax.swing.JLabel jLabel55;
    private javax.swing.JLabel jLabel56;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JPanel jPanel6;
    private javax.swing.JPanel jPanel8;
    private javax.swing.JPanel jPanel9;
    private javax.swing.JSeparator jSeparator10;
    private javax.swing.JSeparator jSeparator11;
    private javax.swing.JTabbedPane jTabbedPane1;
    private javax.swing.JTextField jTextField16;
    private javax.swing.JCheckBox manterSenha3;
    private javax.swing.JTextField txt_BuscaLogin2;
    private javax.swing.JPasswordField txt_NovaSenha2;
    private javax.swing.JLabel txt_cod2;
    private javax.swing.JTextField txt_login2;
    private javax.swing.JTextField txt_nome2;
    private javax.swing.JPasswordField txt_senha2;
    private javax.swing.JPasswordField txt_senhaAtual2;
    // End of variables declaration//GEN-END:variables
}
